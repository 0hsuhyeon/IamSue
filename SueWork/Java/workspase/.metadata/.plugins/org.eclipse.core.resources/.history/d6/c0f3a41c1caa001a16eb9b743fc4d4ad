package kr.ac.kepo.student;

import java.io.IOException;
import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.Scanner;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import kr.ac.kepo.member.MemberDaoJdbc;

@WebServlet("/student/editform.do")
public class StudentEditFormServlet extends HttpServlet {
	StudentDaoJdbc studentDao = new StudentDaoJdbc();
	
	@Override
	protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
		String no = req.getParameter("stuNo");
		
		
		StudentVo vo = studentDao.selectStudent(no);
	}

	public void selectStudent(String no) {
		StudentVo vo = null;
		String sql ="SELECT stu_no, stu_name, stu_score FROM student WHERE stu_no = ?";
			try (
				Connection conn = DriverManager.getConnection(url, user, password);
				PreparedStatement pstmt = conn.prepareStatement(sql);
			){
				
				pstmt.setString(1,no);
				try (ResultSet rs = pstmt.executeQuery();){
					if(rs.next()){
						vo = new StudentVo();
						vo.setStuNo(rs.getString("stu_no")); 						
						vo.setStuName(rs.getString("stu_name"));
						vo.setStuScore(rs.getInt("stu_score"));
						} 
					
				}
	
			}		
			catch (SQLException e) {
				e.printStackTrace();
			}
	}
	
}
